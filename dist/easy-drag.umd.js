(function(r,i){typeof exports=="object"&&typeof module!="undefined"?i(exports):typeof define=="function"&&define.amd?define(["exports"],i):(r=typeof globalThis!="undefined"?globalThis:r||self,i(r["easy-drag"]={}))})(this,function(r){"use strict";const i=(e,n)=>{const o=e[0]+n[0],t=e[1]+n[1];return[o,t]},p=(e,n)=>{const o=n[0]-e[0],t=n[1]-e[1];return[o,t]},y=(e,n)=>{let o=e[0],t=e[1];return o=Math.max(o,n[2]),o=Math.min(o,n[3]),t=Math.max(t,n[0]),t=Math.min(t,n[1]),[o,t]},E=(e,n)=>`translate3d(${n[0]}px, ${n[1]}px, 0px) ${e.replace("none","")}`,h=e=>{if(e instanceof MouseEvent)return[e.pageX,e.pageY];const n=e.touches[0];return[n.pageX,n.pageY]},M=()=>/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i.test(navigator.userAgent),V=(e,n)=>{let{outerElement:o,innerElement:t,onDragStart:L,onDrag:b,onDragEnd:P}=n!=null?n:{},B=window.getComputedStyle(e).transform,d=null,w=null,c=null,a=[0,0],m=[0,0];o=o!=null?o:document.body,e=e,t=t!=null?t:e;const f=u=>{if(u.stopPropagation(),d=h(u),o&&e&&t){const s=o.getBoundingClientRect(),v=e.getBoundingClientRect();c=[s.top-v.top,s.bottom-v.bottom,s.left-v.left,s.right-v.right]}typeof L=="function"&&L(a)},l=u=>{if(d&&c){w=h(u);const s=y(p(d,w),c);m=i(a,s),e.style.transform=E(B,m),typeof b=="function"&&b(m)}},g=u=>{d&&c&&(a=m,typeof P=="function"&&P(a)),d=null},S=()=>{if(t){if(M()){t.addEventListener("touchstart",f),document.addEventListener("touchmove",l),document.addEventListener("touchend",g);return}t.addEventListener("mousedown",f),document.addEventListener("mousemove",l),document.addEventListener("mouseup",g)}},T=()=>{if(t){if(M()){t.removeEventListener("touchstart",f),document.removeEventListener("touchmove",l),document.removeEventListener("touchend",g);return}t.removeEventListener("mousedown",f),document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",g)}};return S(),T};r.addVector=i,r.default=V,r.formatVector=y,r.getPosition=h,r.isMobile=M,r.minusVector=p,r.setTranslatePosition=E,Object.defineProperty(r,"__esModule",{value:!0}),r[Symbol.toStringTag]="Module"});
